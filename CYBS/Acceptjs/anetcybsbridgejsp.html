<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>

    

    <!-- JavaScript -->
    <script type="text/javascript">
        var blob = "";

        function getSecureData() {
            var secureData = {},
                authData = {},
                cardData = {};
            cardData.cardNumber = document.getElementById('CARDNUMBER_ID').value;
            cardData.month = document.getElementById('EXPIRY_MONTH_ID').value;
            cardData.year = document.getElementById('EXPIRY_YEAR_ID').value;
            cardData.zip = document.getElementById('ZIP_CODE').value;
            cardData.cardCode = document.getElementById('CARD_CODE').value;
            secureData.cardData = cardData;
            authData.clientKey = 'ZxfsU3vyvfvTkABprq24wkTaykc4pLZrbcmqCiOHPzGiebQDUKU9ZUiJhU6YEDY=';
            authData.apiLoginID = '5899186080890177037379';
            secureData.authData = authData;
            Accept.dispatchData(secureData, 'responseHandler');
        }

        function responseHandler(response) {
            if (response.messages.resultCode === 'Error') {
                for (var i = 0; i < response.messages.message.length; i++) {
                    console.log(response.messages.message[i].code + ':' + response.messages.message[i].text);
                    $("#blob").val(response.messages.message[i].code + ':' + response.messages.message[i].text);
                }
            } else {
                useOpaqueData(response.opaqueData)
            }
        }

        function useOpaqueData(responseData) {
            console.log(responseData.dataDescriptor);
            console.log(responseData.dataValue);
            $("#blob").val(responseData.dataValue);
        }
    </script>

</head>



</html>